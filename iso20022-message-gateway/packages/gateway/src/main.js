// TODO here will be the full gateway implementation